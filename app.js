var cube={faces:"DLBURF",states:[],edges:{D:[46,45,44,38,37,36,22,21,20,14,13,12],L:[24,31,30,40,47,46,0,7,6,20,19,18],B:[26,25,24,8,15,14,6,5,4,36,35,34],U:[18,17,16,34,33,32,42,41,40,10,9,8],R:[28,27,26,16,23,22,4,3,2,44,43,42],F:[30,29,28,32,39,38,2,1,0,12,11,10]},reset:function(){cube.states=["yyyyyyyyoooooooobbbbbbbbwwwwwwwwrrrrrrrrgggggggg"]},twist:function(e,t){var r,c,n,s=t.charAt(0),a=cube.faces.indexOf(t.charAt(0)),_=t.length>1?"2"===t.charAt(1)?2:3:1;for(r=0,e=e.split("");r<_;r++){for(c=0,n=e.slice(0);c<8;c++)e[8*a+c]=n[8*a+(c+6)%8];for(c=0;c<12;c++)e[cube.edges[s][c]]=n[cube.edges[s][(c+9)%12]]}return e.join("")},scramble:function(){for(var e,t,r=0,c=cube.states[cube.states.length-1],n=[],s=["","'","2"];r<25;)t=cube.faces[Math.floor(6*Math.random())]+s[Math.floor(3*Math.random())],(!(r>0)||t.charAt(0)!==n[r-1].charAt(0))&&(!(r>1)||t.charAt(0)!==n[r-2].charAt(0)||n[r-1].charAt(0)!==cube.faces.charAt((cube.faces.indexOf(t.charAt(0))+3)%6))&&(e=cube.twist(c,t),-1===cube.states.indexOf(e)&&(n[r]=t,cube.states[r]=e,r++,c=e));return n}};document.addEventListener("DOMContentLoaded",function(){function e(){cube.reset();var e,t=cube.scramble(),r=t.length,c="";for(e=0;e<r;e+=5)c+=t.slice(e,e+5).join("&nbsp;")+" ";document.getElementById("scramble").innerHTML=c}e(),document.getElementById("btn-refresh").addEventListener("click",e)});